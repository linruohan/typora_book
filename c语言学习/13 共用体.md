# 共用体

[toc]

## 共用体(联合体)

共用体所有成员共享同一个内存地址

```c
union 共用体名称{
    共用体成员1;
    共用体成员2;
    共用体成员3;
    ....
};
// 指针访问:->   成员访问:.
```

![image-20210410092740799](imgs/image-20210410092740799.png)

![image-20210410092842043](imgs/image-20210410092842043.png)

每一刻只能使用一个值,最终值为最后一次赋值的值

union的大小为最大的成员的大小,==也不一定,因为内存会对齐==

![image-20210410093213767](imgs/image-20210410093213767.png)

![image-20210410093133379](imgs/image-20210410093133379.png)

![image-20210410093232787](imgs/image-20210410093232787.png)

## 定义共用体类型变量

1. 先声明,再定义

<img src="imgs/image-20210410093331366.png" alt="image-20210410093331366" style="zoom: 50%;" />

2. 声明的同时定义

<img src="imgs/image-20210410093353935.png" alt="image-20210410093353935" style="zoom:50%;" />

### 共用体的名字并不是必须的

<img src="imgs/image-20210410093430447.png" alt="image-20210410093430447" style="zoom:50%;" />

## 初始化共用体

<img src="imgs/image-20210410093454990.png" alt="image-20210410093454990" style="zoom:50%;" />