[toc]

## 动态内存管理

1. malloc 申请动态内存空间

  可以申请任意尺寸的内存空间

![image-20210320150501548](imgs/image-20210320150501548.png)

![image-20210320150643532](imgs/image-20210320150643532.png)


2. free 释放动态内存空间

![image-20210320150733870](imgs/image-20210320150733870.png)

![image-20210320151045542](imgs/image-20210320151045542.png)

![image-20210320151058983](imgs/image-20210320151058983.png)

3. calloc 申请并初始化一系列内存空间

![image-20210320152445743](imgs/image-20210320152445743.png)

![image-20210320152455214](imgs/image-20210320152455214.png)![image-20210320152605884](imgs/image-20210320152605884.png)

4. realloc 重新分配内存空间

![image-20210320152845250](imgs/image-20210320152845250.png)

![image-20210320152919005](imgs/image-20210320152919005.png)

![image-20210320152811075](imgs/image-20210320152811075.png)

==根据用户输入的数据个数,重新realloc内存==

![image-20210320153251946](imgs/image-20210320153251946.png)![image-20210320153336035](imgs/image-20210320153336035.png)

### 内存泄漏

申请的内存没有主动释放会导致内存泄漏

<img src="imgs/image-20210320150932538.png" alt="image-20210320150932538" style="zoom:58%;" />

导致内存泄漏的场景:

1. 用完内存块没有及时使用free进行释放
2. 丢失内存块地址

![image-20210320151243041](imgs/image-20210320151243041.png)

## 内存动态管理

![image-20210320151525842](imgs/image-20210320151525842.png)

![image-20210320151538949](imgs/image-20210320151538949.png)

### 初始化内存空间

![image-20210320151920980](imgs/image-20210320151920980.png)


```c
malloc -- 申请动态内存空间 | <stdlib.h>
memchr -- 在内存空间中搜索一个字符 | <string.h>
memcmp -- 比较内存空间 | <string.h>
memcpy -- 拷贝内存空间 | <string.h>
memmove -- 拷贝内存空间 | <string.h>
memset -- 使用一个常量字节填充内存空间 | <string.h>
```

