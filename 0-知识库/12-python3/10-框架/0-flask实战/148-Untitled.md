

## 搭建框架

![image-20200429220343272](D:\Typora_pic\image-20200429220343272.png)

![image-20200429220349938](D:\Typora_pic\image-20200429220349938.png)

![image-20200429220854562](D:\Typora_pic\image-20200429220854562.png)

![image-20200429220826869](D:\Typora_pic\image-20200429220826869.png)

![image-20200429220600322](D:\Typora_pic\image-20200429220600322.png)

![image-20200429220638617](D:\Typora_pic\image-20200429220638617.png)

![image-20200429220752552](D:\Typora_pic\image-20200429220752552.png)

![image-20200429220743137](D:\Typora_pic\image-20200429220743137.png)

## cms用户模型搭建

![image-20200429221137443](D:\Typora_pic\image-20200429221137443.png)

![image-20200429221201297](D:\Typora_pic\image-20200429221201297.png)![image-20200504221419179](D:\Typora_pic\image-20200504221419179.png)

![image-20200429221610398](D:\Typora_pic\image-20200429221610398.png)

![image-20200429222030828](D:\Typora_pic\image-20200429222030828.png)

![image-20200429222012096](D:\Typora_pic\image-20200429222012096.png)

![image-20200429223109035](D:\Typora_pic\image-20200429223109035.png)

![image-20200504221134409](D:\Typora_pic\image-20200504221134409.png)

![image-20200504221020267](D:\Typora_pic\image-20200504221020267.png)

![image-20200504221223328](D:\Typora_pic\image-20200504221223328.png)

![image-20200504221302088](D:\Typora_pic\image-20200504221302088.png)

![image-20200504221325154](D:\Typora_pic\image-20200504221325154.png)

![image-20200429223133438](D:\Typora_pic\image-20200429223133438.png)

## cms后台登录

![image-20200429223835423](D:\Typora_pic\image-20200429223835423.png)

![image-20200429224345145](D:\Typora_pic\image-20200429224345145.png)

![image-20200429224523705](D:\Typora_pic\image-20200429224523705.png)

![image-20200429225658941](D:\Typora_pic\image-20200429225658941.png)![image-20200429225727836](D:\Typora_pic\image-20200429225727836.png)

![image-20200429225830783](D:\Typora_pic\image-20200429225830783.png)

![image-20200429225925333](D:\Typora_pic\image-20200429225925333.png)

![image-20200429225957434](D:\Typora_pic\image-20200429225957434.png)

![image-20200429230348114](D:\Typora_pic\image-20200429230348114.png)

## 限制登录

![image-20200504191504369](D:\Typora_pic\image-20200504191504369.png)

![image-20200504191532583](D:\Typora_pic\image-20200504191532583.png)

### user_id优化

![image-20200504191625163](D:\Typora_pic\image-20200504191625163.png)

![image-20200504191719258](D:\Typora_pic\image-20200504191719258.png)

![image-20200504191739651](D:\Typora_pic\image-20200504191739651.png)

## 定义宏

![image-20200504192238659](D:\Typora_pic\image-20200504192238659.png)

![image-20200504192306116](D:\Typora_pic\image-20200504192306116.png)

![image-20200504192431080](D:\Typora_pic\image-20200504192431080.png)

## 用户名渲染和注销实现

​	![	](D:\Typora_pic\image-20200504192801711.png)

![image-20200504192843151](D:\Typora_pic\image-20200504192843151.png)

## 注销

![image-20200504192952359](D:\Typora_pic\image-20200504192952359.png)

![image-20200504193030785](D:\Typora_pic\image-20200504193030785.png)

## 代码优化--钩子函数

![image-20200504193241592](D:\Typora_pic\image-20200504193241592.png)

![image-20200504193354685](D:\Typora_pic\image-20200504193354685.png)

## csrf保护

![image-20200504194836002](D:\Typora_pic\image-20200504194836002.png)

![image-20200504194926382](D:\Typora_pic\image-20200504194926382.png)

## 修改密码

![image-20200505160441150](D:\Typora_pic\image-20200505160441150.png)

1渲染一个csrf-token

![image-20200505160620833](D:\Typora_pic\image-20200505160620833.png)

![image-20200505160751190](D:\Typora_pic\image-20200505160751190.png)

2/Ajax头部设置x-csrftoken

![image-20200505160848541](D:\Typora_pic\image-20200505160848541.png)

![image-20200505160908140](D:\Typora_pic\image-20200505160908140.png)